{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nanrroti\\\\Otros Documentos\\\\GitHub\\\\Trabajo\\\\punto-venta\\\\frontend\\\\src\\\\App.js\";\nimport React, { useState } from \"react\";\nimport Login from \"./components/Login\";\nimport Inventory from \"./components/Inventory\";\nimport Sales from \"./components/Sales\";\nimport Logs from \"./components/Logs\";\nimport jwt_decode from \"jwt_decode\"; // Importa jwt-decode\n\nconst App = () => {\n  const [user, setUser] = useState(null); // Almacena el usuario actual\n\n  // Maneja el inicio de sesión, actualiza el estado con los datos del usuario\n  const handleLogin = token => {\n    const decodedToken = jwt_decode(token); // Decodifica el token\n    setUser({\n      role: decodedToken.role,\n      token\n    }); // Establece el rol y el token en el estado\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, !user ? /*#__PURE__*/React.createElement(Login, {\n    onLogin: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, \"Bienvenido, \", user.role), \" \", /*#__PURE__*/React.createElement(Inventory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Sales, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Logs, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  })));\n};\nexport default App;","map":{"version":3,"names":["React","useState","Login","Inventory","Sales","Logs","jwt_decode","App","user","setUser","handleLogin","token","decodedToken","role","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onLogin"],"sources":["D:/Nanrroti/Otros Documentos/GitHub/Trabajo/punto-venta/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Login from \"./components/Login\";\nimport Inventory from \"./components/Inventory\";\nimport Sales from \"./components/Sales\";\nimport Logs from \"./components/Logs\";\nimport jwt_decode from \"jwt_decode\"; // Importa jwt-decode\n\nconst App = () => {\n  const [user, setUser] = useState(null); // Almacena el usuario actual\n\n  // Maneja el inicio de sesión, actualiza el estado con los datos del usuario\n  const handleLogin = (token) => {\n    const decodedToken = jwt_decode(token); // Decodifica el token\n    setUser({ role: decodedToken.role, token }); // Establece el rol y el token en el estado\n  };\n\n  return (\n    <div>\n      {/* Si no hay usuario, muestra el formulario de login */}\n      {!user ? (\n        <Login onLogin={handleLogin} />\n      ) : (\n        <div>\n          <h1>Bienvenido, {user.role}</h1> {/* Muestra el rol del usuario */}\n          <Inventory />\n          <Sales />\n          <Logs />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,UAAU,MAAM,YAAY,CAAC,CAAC;;AAErC,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAChB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAExC;EACA,MAAMS,WAAW,GAAIC,KAAK,IAAK;IAC7B,MAAMC,YAAY,GAAGN,UAAU,CAACK,KAAK,CAAC,CAAC,CAAC;IACxCF,OAAO,CAAC;MAAEI,IAAI,EAAED,YAAY,CAACC,IAAI;MAAEF;IAAM,CAAC,CAAC,CAAC,CAAC;EAC/C,CAAC;EAED,oBACEX,KAAA,CAAAc,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEG,CAACZ,IAAI,gBACJR,KAAA,CAAAc,aAAA,CAACZ,KAAK;IAACmB,OAAO,EAAEX,WAAY;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAE/BpB,KAAA,CAAAc,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEpB,KAAA,CAAAc,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAY,EAACZ,IAAI,CAACK,IAAS,CAAC,KAAC,eACjCb,KAAA,CAAAc,aAAA,CAACX,SAAS;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACbpB,KAAA,CAAAc,aAAA,CAACV,KAAK;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACTpB,KAAA,CAAAc,aAAA,CAACT,IAAI;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACJ,CAEJ,CAAC;AAEV,CAAC;AAED,eAAeb,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}